<!DOCTYPE html>
<html lang="en">
  <%- include("partials/head") %>
  <body>
      <%- include("partials/nav") %>

    <div class="wrapper">
      <main class="flex-grow-1">
        <div class="container text-center" style="max-width: 40%; margin-top: 3rem;">
          <h1 class="display-4">ChordExplorer</h1>
          <h4 class="text-muted">Audio translation made easy</h4>

          <div class="card-body">
            <h5 class="card-title">Login</h5>
            <form id="login_form">
              <div class="text-start">
                <label for="login_email" class="form-label">Email address</label>
                <input value="<%= formData.login_email || ''%>" type="email" autocomplete="email" name="login_email"
                  class="form-control" id="login_email" placeholder="Enter email" required>
                <small class="form-text text-muted">We won't share your email with anyone else.</small>
              </div>
              <div class="text-start">
                <label for="login_password" class="form-label">Password</label>
                <input type="password" autocomplete="password" name="login_password" class="form-control"
                  id="login_password" placeholder="Password" required>
              </div>
              <button type="submit" id="login_btn" class="btn btn-primary"
                style="width: 80%; margin-top: 2rem;">Login</button>
            </form>
          </div>

          <% if (formErrors && formErrors.length > 0) { %>
            <div class="alert alert-danger text-start mt-3" id="loginErrorDiv">
              <% formErrors.forEach(error => { %>
                <p class="text-danger"><%= error.msg %></p>
              <% }) %>
            </div>
          <% } else { %>
            <div class="alert alert-danger text-start" id="loginErrorDiv" style="display: none;"></div>
          <% } %>

          <p class="mt-3">Don't have an account? <a href="/api/users/register">Register</a></p>
        </div>
      </main>

      <%- include("partials/footer") %>
    </div>
  </body>
</html>
